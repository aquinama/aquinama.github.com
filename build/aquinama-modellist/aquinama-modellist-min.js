YUI.add("aquinama-modellist",function(B){B.namespace("AquiNaMa");var G=B.Attribute.prototype,J=B.Lang,K=B.Array,C="add",E="create",H="error",I="load",D="remove",F="reset",A=B.Base.create("aquinama-modellist",B.ModelList,[],{model:B.AquiNaMa.ItemModel,initializer:function(M){var L=this;L._bind();},_bind:function(){var L=this;L.after("behaviorChange",L._setupBehavior);L.on("add",L.onAddHandle);L.after("add",L.afterAddHandle);L.on("*:change",function(N){var M=N.target;L.save();});},onAddHandle:function(P){var M=this,L=M.get("max"),O=M.get("behavior"),N=M.size();if(L!=-1&&L<=N){if(O=="stack"){M.item(N-1).destroy();}else{if(O=="quee"){M.item(0).destroy();}else{P.preventDefault();}}}},afterAddHandle:function(M){var L=this;L.save();},_setupBehavior:function(M){var L=this;},_add:function(O,N){var L=this,P,Q,M;N||(N={});if(!O._isYUIModel){O=new this.model(O);}Q=O.get("id");if(this._clientIdMap[O.get("clientId")]||(B.Lang.isValue(Q)&&this._idMap[Q])){this.fire(H,{error:"Model is already in the list.",model:O,src:"add"});return;}if(L.size()===0||L.get("behavior")==="stack"){M=0;}else{if(L.get("behavior")==="quee"){M=L.size();}else{M=this._findIndex(O);}}P=B.merge(N,{index:M,model:O});N.silent?this._defAddFn(P):this.fire(C,P);return O;},mySort:function(M,N){var L=this;L.comparator=function(O){if(N=="asc"){return O.get(M);}else{return -O.get(M);}};L.sort();return L;}},{ATTRS:{behavior:{value:"normal"},source:{value:{}},name:{value:""},max:{value:-1}}});B.AquiNaMa.ModelList=A;},"@VERSION@",{skinnable:false,requires:["model-list"]});